"use strict";var app=angular.module("trunkApp",["ngRoute"]);app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/charts",{templateUrl:"views/charts.html",controller:"ChartsCtrl"}).when("/table",{templateUrl:"views/foram-table.html",controller:"TableCtrl"}).when("/databases",{templateUrl:"views/databases.html",controller:"DatabasesCtrl"}).when("/settings",{templateUrl:"views/settings.html",controller:"SettingsCtrl"}).when("/visualisation",{templateUrl:"views/visualisation.html",controller:"VisualisationCtrl"}).otherwise({redirectTo:"/"})}]),app.directive("foramTable",function(){return{restrict:"E",scope:{foram:"=foram"},templateUrl:"/views/foram-table.html"}}),app.directive("menu",function(){return{restrict:"E",scope:{menu:"=menu"},templateUrl:"/views/menu-temp.html"}}),app.directive("menuPosition",["$location","$compile","$templateCache",function(a,b,c){return{restrict:"E",scope:{position:"="},templateUrl:"/views/submenu-temp.html",link:function(a,d,e){var f=c.get("/views/submenu-temp.html")[1];console.log(f),a.position.list&&(f+='<ul  class="submenu"><menu-position ng-repeat="subposition in position.list" position="subposition"></menu-position></ul>'),f='<li class="menu-option" id="{{position.args}}" ng-click="position.click(position.args)">'+f+"</li>";var g=angular.element(f);b(g)(a),d.replaceWith(g)}}}]),app.service("Database",function(){return{addDatabase:function(){console.log("addDatabase")},searchDatabase:function(){console.log("searchDatabase")},deleteDatabase:function(){console.log("deleteDatabase")}}}),app.controller("menuCtrl",["$scope","Database","$location",function(a,b,c){a.go=function(a){angular.element(document.getElementsByClassName("menu-option active")).toggleClass("active"),c.path(a),console.log("go() with url = "+a)},a.showList=function(a){var b=angular.element(document.getElementsByClassName("menu-option active")),c=angular.element(document.getElementById(a));b.attr("id")!=c.attr("id")&&b.toggleClass("active"),c.toggleClass("active")},a.menu={name:"FORAM",icon:"bars",list:[{name:"Home",icon:"home",args:"/",click:a.go},{name:"Databases",icon:"database",args:"/databases",click:a.go},{name:"Browse",icon:"folder-open",args:"/table",click:a.go},{name:"3D Visualisation",icon:"cube",args:"/visualisation",click:a.go},{name:"Charts",icon:"pie-chart",args:"/charts",click:a.go},{name:"Settings",icon:"gear",args:"/settings",click:a.go}]}}]),app.controller("TableCtrl",["$scope","$http","$q",function(a,b,c){a.forams=[],b.get("https://foram-api.herokuapp.com/forams").success(function(b,c,d,e){a.forams=b.forams,a.status=c,a.headers=Object.keys(a.forams[0])})}]),app.controller("MainCtrl",["$scope","$http","$q",function(a,b,c){}]),app.controller("AboutCtrl",["$scope",function(a){}]),app.controller("SettingsCtrl",["$scope","$http","$q",function(a,b,c){}]),app.controller("VisualisationCtrl",["$scope","$http","$q",function(a,b,c){}]),app.controller("ChartsCtrl",["$scope","$http","$q",function(a,b,c){}]),app.controller("DatabasesCtrl",["$scope","$http","$q",function(a,b,c){}]);